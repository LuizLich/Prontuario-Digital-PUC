{% extends 'base.html' %}

{% block title %}Novo paciente{% endblock %}
{% block content %}
<div class="container mt-5">
    <div class="col-md-12">
        <h1 class="py-2 text-center fw-bold">Novo paciente</h1>
    </div>
    <form id="formNovoPaciente">
        <h5 class="py-2 fw-bold h5">Informações clínicas</h5>
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="supervisor_nome" class="form-label">Nome do supervisor: <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="supervisor_nome" name="supervisor_nome_input" placeholder="Digite o nome do supervisor" required>
            </div>
            <div class="col-md-6">
                <label for="estagiario_nome" class="form-label">Nome do estagiário: <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="estagiario_nome" name="intern_nome_input" placeholder="Digite o nome do estagiário" required>
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="data_avaliacao" class="form-label">Data da avaliação: <span class="text-danger">*</span></label>
                <input type="date" class="form-control" id="data_avaliacao" name="data_avaliacao" required>
            </div>
            <div class="col-md-6">
                <label for="data_alta" class="form-label">Data da alta:</label>
                <input type="date" class="form-control" id="data_alta" name="data_alta">
            </div>
        </div>

        <hr class="my-3"> 
        <h5 class="py-2 fw-bold h5">Identificação do paciente</h5>

        <div class="row mb-3">
            <div class="col-md-12">
                <label for="nome" class="form-label">Nome Completo: <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="nome" name="nome" required>
            </div>
        </div>
        
        <div class="row mb-3">
            <div class="col-md-8">
                <label for="endereco" class="form-label">Endereço: <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="endereco" name="endereco" required>
            </div>
            <div class="col-md-4">
                <label for="bairro" class="form-label">Bairro: <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="bairro" name="bairro" required>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-5">
                <label for="cidade" class="form-label">Cidade: <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="cidade" name="cidade" required>
            </div>
            <div class="col-md-3">
                <label for="telefone" class="form-label">Telefone: <span class="text-danger">*</span></label>
                <input type="tel" class="form-control" id="telefone" name="telefone" placeholder="(XX) XXXX-XXXX" required>
            </div>
            <div class="col-md-4">
                <label for="celular" class="form-label">Celular: <span class="text-danger">*</span></label>
                <input type="tel" class="form-control" id="celular" name="celular" placeholder="(XX) XXXXX-XXXX" required>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-7">
                <label for="email" class="form-label">E-mail: <span class="text-danger">*</span></label>
                <input type="email" class="form-control" id="email" name="email" placeholder="seuemail@exemplo.com" required>
            </div>
            <div class="col-md-3">
                <label for="data_nascimento" class="form-label">Data de Nascimento: <span class="text-danger">*</span></label>
                <input type="date" class="form-control" id="data_nascimento" name="data_nascimento" required>
            </div>
            <div class="col-md-2">
                <label for="idade" class="form-label">Idade: <span class="text-danger">*</span></label>
                <input type="number" class="form-control" id="idade" name="idade" readonly required>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label for="rg" class="form-label">RG: <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="rg" name="rg" required>
            </div>
            <div class="col-md-6">
                <label for="cpf" class="form-label">CPF: <span class="text-danger">*</span></label>
                <input type="text" class="form-control" id="cpf" name="cpf" placeholder="XXX.XXX.XXX-XX" required>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label class="form-label">Gênero: <span class="text-danger">*</span></label>
                <div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="genero" id="genero_masculino" value="Masculino" required>
                        <label class="form-check-label" for="genero_masculino">Masculino</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="genero" id="genero_feminino" value="Feminino" required>
                        <label class="form-check-label" for="genero_feminino">Feminino</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="genero" id="genero_outro" value="Outro" required>
                        <label class="form-check-label" for="genero_outro">Outro</label>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <label for="estado_civil" class="form-label">Estado Civil: <span class="text-danger">*</span></label>
                <select class="form-select" id="estado_civil" name="estado_civil" required>
                    <option selected disabled value="">Selecione...</option>
                    <option value="Solteiro(a)">Solteiro(a)</option>
                    <option value="Casado(a)">Casado(a)</option>
                    <option value="Divorciado(a)">Divorciado(a)</option>
                    <option value="Viúvo(a)">Viúvo(a)</option>
                    <option value="União Estável">União Estável</option>
                    <option value="Outro">Outro</option>
                </select>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-7">
                <label class="form-label">Raça/Etnia: <span class="text-danger">*</span></label>
                <div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="raca_etnia" id="raca_branca" value="Branca" required>
                        <label class="form-check-label" for="raca_branca">Branca</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="raca_etnia" id="raca_parda" value="Parda" required>
                        <label class="form-check-label" for="raca_parda">Parda</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="raca_etnia" id="raca_negra" value="Negra" required>
                        <label class="form-check-label" for="raca_negra">Negra</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="raca_etnia" id="raca_amarela" value="Amarela" required>
                        <label class="form-check-label" for="raca_amarela">Amarela</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="raca_etnia" id="raca_indigena" value="Indígena" required>
                        <label class="form-check-label" for="raca_indigena">Indígena</label>
                    </div>
                    <div class="form-check form-check-inline">
                        <input class="form-check-input" type="radio" name="raca_etnia" id="raca_outra_radio" value="Outra" required>
                        <label class="form-check-label" for="raca_outra_radio">Outra:</label>
                        <input type="text" class="form-control form-control-sm d-inline-block ms-1" style="width: 150px;" id="raca_outra_texto" name="raca_outra_texto" disabled> 
                    </div>
                </div>
            </div>
            <div class="col-md-5">
                <label for="escolaridade" class="form-label">Grau de Escolaridade: <span class="text-danger">*</span></label>
                <select class="form-select" id="escolaridade" name="escolaridade" required>
                    <option selected disabled value="">Selecione...</option>
                    <option value="Analfabeto">Analfabeto</option>
                    <option value="Ensino Fundamental Incompleto">Ensino Fundamental Incompleto</option>
                    <option value="Ensino Fundamental Completo">Ensino Fundamental Completo</option>
                    <option value="Ensino Médio Incompleto">Ensino Médio Incompleto</option>
                    <option value="Ensino Médio Completo">Ensino Médio Completo</option>
                    <option value="Ensino Superior Incompleto">Ensino Superior Incompleto</option>
                    <option value="Ensino Superior Completo">Ensino Superior Completo</option>
                    <option value="Pós-graduação">Pós-graduação</option>
                    <option value="Mestrado">Mestrado</option>
                    <option value="Doutorado">Doutorado</option>
                    <option value="Outro">Outro</option>
                </select>
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-md-12">
                <label class="form-label">Profissão/Situação no momento: <span class="text-danger">*</span></label>
                <div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="situacao_profissional" id="situacao_dona_casa" value="Dona de Casa" required>
                        <label class="form-check-label" for="situacao_dona_casa">Dona de Casa</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="situacao_profissional" id="situacao_trabalho" value="Trabalho Período Integral ou Meio Período" required>
                        <label class="form-check-label" for="situacao_trabalho">Trabalho Período Integral ou Meio Período</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="situacao_profissional" id="situacao_aposentado" value="Aposentado" required>
                        <label class="form-check-label" for="situacao_aposentado">Aposentado</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="situacao_profissional" id="situacao_afastado" value="Afastado" required>
                        <label class="form-check-label" for="situacao_afastado">Afastado</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="situacao_profissional" id="situacao_desempregado" value="Desempregado" required>
                        <label class="form-check-label" for="situacao_desempregado">Desempregado</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="situacao_profissional" id="situacao_estudante" value="Estudante" required>
                        <label class="form-check-label" for="situacao_estudante">Estudante</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="situacao_profissional" id="situacao_outra_radio" value="Outra" required>
                        <label class="form-check-label" for="situacao_outra_radio">Outra:</label>
                        <input type="text" class="form-control form-control-sm d-inline-block ms-1" style="width: 200px;" id="situacao_outra_texto" name="situacao_outra_texto" disabled>
                    </div>
                </div>
            </div>
        </div>
        
        <hr class="my-4">

        <h2 class="py-2 fw-bold h4">Prontuário</h2>
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="prontuarioSelecionado" class="form-label">Selecione o tipo de Prontuário: <span class="text-danger">*</span></label>
                <select class="form-select" id="prontuarioSelecionado" name="prontuario_id_selecionado" required>
                    <option selected disabled value="">Selecione...</option>
                    {% for form_opt in form_options %}
                        <option value="{{ form_opt.id }}">{{ form_opt.title }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div id="renderedFormTitleContainer" class="mt-3" style="display: none;">
             <h3 id="renderedFormTitleText" class="h5"></h3>
        </div>
        <div id="renderedFormContainer" class="mt-2 p-3 border rounded" style="display: none;">
        </div>

        <div class="d-grid gap-2 d-md-flex justify-content-md-end py-4">
            <button type="reset" class="btn btn-secondary me-md-2">Limpar campos</button>
            <button type="submit" class="btn btn-primary bi bi-save"> Salvar paciente e prontuário</button>
        </div>
    </form>
</div>
{% endblock %}